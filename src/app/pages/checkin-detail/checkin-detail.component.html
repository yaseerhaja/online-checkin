<section class="oc-checkin-detail">
  <mat-card *ngIf="checkInData && checkInData.errorCode">
    <mat-card-content>
      <p>{{ checkInData.message }}</p>
    </mat-card-content>
  </mat-card>

  <mat-accordion
    *ngIf="checkInData && !checkInData.errorCode"
    class="oc-checkin-detail-expansion"
  >
    <mat-expansion-panel hideToggle>
      <mat-expansion-panel-header>
        <mat-panel-title class="oc-checkin-detail-expansion-title">
          <span>Booking Code:</span>
          <p>{{ checkInData.bookingCode }}</p>
        </mat-panel-title>
        <mat-panel-description class="oc-checkin-detail-expansion-desc">
          {{ checkInData.passengers.title.code }}
          {{ checkInData.passengers.firstName }}
          {{ checkInData.passengers.lastName }}
        </mat-panel-description>
      </mat-expansion-panel-header>
      <mat-card>
        <mat-card-header>
          <h3>Personal Information</h3>
        </mat-card-header>
        <mat-card-content>
          <span>Email:</span>
          <span *ngFor="let contact of checkInData.contactDetails">{{
            contact.address
          }}</span>
        </mat-card-content>
      </mat-card>
      <mat-card>
        <mat-card-header>
          <h3>Itinerary Type: {{ checkInData.itinerary.type }}</h3>
        </mat-card-header>
        <mat-card-content>
          <div
            class="oc-checkin-detail-itenerary"
            *ngFor="let connection of checkInData.itinerary.connections"
          >
            <div class="oc-checkin-detail-itenerary-origin">
              <mat-icon
                aria-hidden="false"
                aria-label="Example home icon"
                fontIcon="flight_takeoff"
              ></mat-icon>
              <div>
                <span
                  >{{ connection.origin.name }} ({{
                    connection.origin.IATACode
                  }})</span
                >
                <span
                  >{{ connection.origin.city.name }} -
                  {{ connection.origin.city.country.name }}</span
                >
              </div>
            </div>
            <div class="oc-checkin-detail-itenerary-duration">
              <mat-icon
                aria-hidden="false"
                aria-label="Example home icon"
                fontIcon="swap_horiz"
              ></mat-icon>
              <div>
                <span>{{ connection.duration }} mins</span>
              </div>
            </div>
            <div class="oc-checkin-detail-itenerary-destination">
              <mat-icon
                aria-hidden="false"
                aria-label="Example home icon"
                fontIcon="flight_land"
              ></mat-icon>
              <div>
                <span
                  >{{ connection.destination.name }} ({{
                    connection.destination.IATACode
                  }})</span
                >
                <span
                  >{{ connection.destination.city.name }} -
                  {{ connection.destination.city.country.name }}</span
                >
              </div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </mat-expansion-panel>
  </mat-accordion>
</section>
